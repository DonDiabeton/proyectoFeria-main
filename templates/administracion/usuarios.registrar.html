{% extends "usuario/perfil.html" %}

{% block subcontent %}
<h4>Registrar usuario</h4>
<form class="form" method="POST">
    {% csrf_token %}
    {{ form.non_field_errors }}
    <div class="form-floating mb-2">
        <input type="text" class="form-control {% if form.username.errors %}is-invalid{% endif %}"
        oninput="remove_class('username', 'is-invalid');" id="username" name="username"
        value='{% if request.method == 'POST' %}{{ form.username.value }}{% endif %}' required>
        <label for="username">Nombre de usuario</label>
        <div class="form-text invalid-feedback">{{ form.username.errors }}</div>
    </div>
    <div class="form-floating mb-2">
        <input type="text" class="form-control {% if form.first_name.errors %}is-invalid{% endif %}"
        oninput="remove_class('first_name', 'is-invalid');" id="first_name" name="first_name"
        value='{% if request.method == 'POST' %}{{ form.first_name.value }}{% endif %}' required>
        <label for="first_name">Nombre(s)</label>
        <div class="form-text invalid-feedback">{{ form.first_name.errors }}</div>
    </div>
    <div class="form-floating mb-2">
        <input type="text" class="form-control {% if form.last_name.errors %}is-invalid{% endif %}"
        oninput="remove_class('last_name', 'is-invalid');" id="last_name" name="last_name"
        value='{% if request.method == 'POST' %}{{ form.last_name.value }}{% endif %}' required>
        <label for="last_name">Apellido(s)</label>
        <div class="form-text invalid-feedback">{{ form.last_name.errors }}</div>
    </div>
    <div class="form-floating mb-2">
        <select class="form-select" name="tipo" required="required">
            {% for key, value in estados.items %}
            <option value="{{ key }}">{{ value }}</option>
            {% endfor %}
        </select>
        <label for="tipo">Tipo de usuario</label>
        <div class="form-text invalid-feedback">{{ form.tipo.errors }}</div>
    </div>
    <div class="form-floating mb-2">
        <input type="email" class="form-control {% if form.email.errors %}is-invalid{% endif %}"
        oninput="remove_class('email', 'is-invalid');" id="email" name="email"
        value='{% if request.method == 'POST' %}{{ form.email.value }}{% endif %}' required>
        <label for="email">Correo electrónico</label>
        <div class="form-text invalid-feedback">{{ form.email.errors }}</div>
    </div>
    <div class="form-floating mb-2">
        <input type="password" class="form-control {% if form.password2.errors %}is-invalid{% endif %}"
        oninput="remove_class('password1', 'is-invalid');" id="password1" name="password1" required>
        <label for="password1">Contraseña</label>
        <div class="invalid-feedback">{{ form.password1.errors }}</div>
    </div>
    <div class="form-floating mb-2">
        <input type="password" class="form-control {% if form.password2.errors %}is-invalid{% endif %}"
        oninput="remove_class('password2', 'is-invalid');" id="password2" name="password2" required>
        <label for="password2">Confirmar contraseña</label>
        <div class="form-text invalid-feedback">{{ form.password2.errors }}</div>
    </div>
    <div class="d-grid gap-2 mt-3">
        <button class="btn btn-success btn-lg" style="background-color: #20ae00;" type="submit" name="submit">
            Registrar usuario
        </button>
    </div>
</form>
{% endblock subcontent %}
